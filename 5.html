<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ä»£è¬é«˜æ‰‹ï¼šç”²ç‹€è…º</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --bg: #f5f7fb;
      --card: #ffffff;
      --border: #d0d7e2;
      --text: #1f2933;
      --muted: #6b7280;
      --accent: #2563eb;
      --accent-soft: #dbeafe;
      --correct-bg: #e6ffed;
      --correct-border: #16a34a;
      --incorrect-bg: #ffe4e6;
      --incorrect-border: #e11d48;
      --radius-lg: 18px;
      --radius-md: 10px;
      --shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #e0f2fe 0, #f5f7fb 45%, #eef2ff 100%);
      color: var(--text);
      line-height: 1.7;
    }

    .page {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px 16px 40px; /* åº•éƒ¨ç•™ç™½ */
    }

    header {
      text-align: center;
      margin-bottom: 24px;
    }

    h1 {
      font-size: 2rem;
      margin: 0 0 8px;
      letter-spacing: 0.06em;
    }

    .subtitle {
      font-size: 0.95rem;
      color: var(--muted);
    }

    h2 {
      font-size: 1.25rem;
      margin: 24px 0 8px;
    }
    
    h3 {
      font-size: 1.1rem;
      margin: 10px 0 8px;
      color: var(--accent);
      border-left: 4px solid var(--accent);
      padding-left: 10px;
    }

    .section-card {
      background: rgba(255, 255, 255, 0.9);
      border-radius: var(--radius-lg);
      padding: 16px 18px;
      margin-bottom: 18px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(209, 213, 219, 0.7);
    }

    .instruction {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .question-card {
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      padding: 12px 14px 12px;
      margin-top: 8px;
      background: #f9fafb;
      position: relative;
    }

    .question-card.correct {
      border-color: var(--correct-border);
      background: var(--correct-bg);
    }

    .question-card.incorrect {
      border-color: var(--incorrect-border);
      background: var(--incorrect-bg);
    }

    .question-title {
      font-weight: 600;
      margin-bottom: 6px;
      font-size: 0.98rem;
    }

    .question-body {
      font-size: 0.95rem;
    }

    select,
    input[type="radio"],
    input[type="checkbox"] {
      font-size: 0.95rem;
    }

    /* èª²æ–‡å¡«å……ç¾åŒ– */
    .fill-card {
      background: #fff7df;
      border-radius: 24px;
      padding: 18px 20px 16px;
      border: 2px solid #facc6b;
      position: relative;
      box-shadow: 0 10px 25px rgba(148, 81, 3, 0.09);
    }

    /* 
       ç‰¹åˆ¥é‡å°å¡«ç©ºé¡Œå…§å®¹èª¿æ•´è¡Œè· 
       line-height: 2.6 è®“ä¸‹æ‹‰é¸å–®ä¸æœƒè·Ÿæ–‡å­—æ“ åœ¨ä¸€èµ· 
    */
    .fill-card .question-body {
      line-height: 2.6;
      font-size: 1.05rem; /* å­—é«”ç¨å¾®åŠ å¤§æå‡æ˜“è®€æ€§ */
    }

    .fill-badge {
      position: absolute;
      left: 16px;
      top: -16px;
      background: #ffffff;
      border-radius: 999px;
      padding: 4px 14px;
      font-size: 0.85rem;
      color: #6b7280;
      border: 1px solid #e5e7eb;
      box-shadow: 0 4px 10px rgba(148, 81, 3, 0.12);
    }

    .fill-select {
      padding: 4px 10px;
      margin: 0 4px; /* å¢åŠ å·¦å³é–“è· */
      border-radius: 999px;
      border: 2px solid #fb7185;
      background: #fff1f2;
      color: #b91c1c;
      min-width: 90px;
      cursor: pointer;
    }

    .fill-select.filled {
      border-color: #3b82f6;
      background: #eff6ff;
      color: #1d4ed8;
    }

    .btn-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.12);
      background: linear-gradient(135deg, #2563eb, #4f46e5);
      color: #ffffff;
      transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.1s ease;
    }

    .btn:hover:enabled {
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.18);
    }

    .btn:disabled {
      opacity: 0.45;
      cursor: not-allowed;
      box-shadow: none;
    }

    .btn-secondary {
      background: linear-gradient(135deg, #6b7280, #4b5563);
    }

    .feedback {
      margin-top: 6px;
      font-size: 0.85rem;
      padding: 6px 8px;
      border-radius: 8px;
      border: 1px dashed transparent;
      display: none;
    }

    .question-card.correct .feedback {
      display: block;
      border-color: var(--correct-border);
      background: rgba(22, 163, 74, 0.1);
      color: #14532d;
    }

    .question-card.incorrect .feedback {
      display: block;
      border-color: var(--incorrect-border);
      background: rgba(225, 29, 72, 0.06);
      color: #881337;
    }

    .main-image-wrapper {
      text-align: center;
      margin: 10px 0 20px;
    }

    .main-image {
      width: 66%;
      max-width: 760px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      display: inline-block;
    }
    
    /* æ»¿ç‰ˆåœ–ç‰‡è¨­å®š */
    #bonus-image-area .main-image {
        width: 100%;
        max-width: none;
    }

    /* å½±ç‰‡ä¸¦æ’å®¹å™¨ */
    .video-grid {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }
    
    .video-item {
      flex: 1;
      min-width: 300px;
    }

    .video-wrapper {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
      border-radius: 16px;
      box-shadow: var(--shadow);
      margin-top: 8px;
      margin-bottom: 20px;
      background: #000;
    }

    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .options-list {
      margin-top: 4px;
      padding-left: 0;
      list-style: none;
    }

    .options-list li {
      margin: 4px 0;
    }

    /* æ‹–æ›³é…å°é¡Œ */
    .match-grid {
      display: grid;
      grid-template-columns: 1.1fr 1.1fr;
      gap: 12px;
      margin-top: 8px;
    }

    .match-column {
      background: #f9fafb;
      border-radius: 14px;
      border: 1px solid #e5e7eb;
      padding: 8px 10px;
    }

    .match-column-header {
      font-weight: 600;
      font-size: 0.92rem;
      margin-bottom: 4px;
    }

    .drop-zone {
      min-height: 110px;
      border-radius: 10px;
      border: 2px dashed #cbd5e1;
      padding: 6px;
      background: #fefefe;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      align-content: flex-start;
    }

    .drop-zone.over {
      background: #eff6ff;
      border-color: #3b82f6;
    }

    .trait-pool {
      margin-top: 10px;
      padding: 8px 10px;
      border-radius: 14px;
      background: #eef2ff;
      border: 1px solid #c4b5fd;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .trait-chip {
      padding: 4px 10px;
      border-radius: 999px;
      background: #ffffff;
      border: 1px solid #cbd5e1;
      font-size: 0.86rem;
      cursor: grab;
      user-select: none;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.12);
      white-space: nowrap;
    }

    .trait-chip:active {
      cursor: grabbing;
    }

    /* åº•éƒ¨å°è¦½å€å¡Š (éœæ…‹é¡¯ç¤º) */
    .bottom-nav {
      margin-top: 40px;
      padding: 20px;
      background: #ffffff;
      border-radius: var(--radius-lg);
      box-shadow: 0 -4px 15px rgba(0,0,0,0.05);
      border: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .nav-btn {
      border-radius: 999px;
      border: none;
      padding: 10px 24px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #ffffff;
      background: linear-gradient(135deg, #4b5563, #111827);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: all 0.2s ease;
      text-decoration: none; /* ç¢ºä¿é€£çµç„¡ä¸‹åŠƒç·š */
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
    }
    
    .nav-btn.disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: #9ca3af;
      box-shadow: none;
    }

    .nav-btn.disabled:hover {
      transform: none;
    }

    #progress-info {
      font-weight: 600;
      color: var(--muted);
      font-size: 1rem;
      background: #f3f4f6;
      padding: 6px 16px;
      border-radius: 20px;
    }

    @media (max-width: 768px) {
      .page {
        padding-bottom: 40px;
      }
      h1 {
        font-size: 1.6rem;
      }
      .main-image {
        width: 100%;
      }
      .match-grid {
        grid-template-columns: 1fr;
      }
      .bottom-nav {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <h1>ä»£è¬é«˜æ‰‹ï¼šç”²ç‹€è…º</h1>
      <div class="subtitle">å¾ä½ç½®ã€åŠŸèƒ½åˆ°ç–¾ç—…ï¼Œä¸€èµ·èªè­˜é€™ä½é»˜é»˜å·¥ä½œçš„ã€Œä»£è¬æŒ‡æ®å®˜ã€</div>
    </header>

    <section class="section-card" id="section-text-fill">
      <h2>ä¸€ã€èª²æ–‡å­¸ç¿’èˆ‡å¡«å……</h2>
      <p class="instruction">è«‹å¾ä¸‹æ‹‰å¼é¸å–®é¸å‡ºæ­£ç¢ºå­—è©ï¼Œå®Œæˆèª²æ–‡å…§å®¹ï¼Œå†æŒ‰ä¸‹æ–¹ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚</p>

      <div class="fill-card question-card" id="q1-card">
        <div class="fill-badge">èª²æ–‡å¡«ç©º</div>
        <div class="question-body" style="margin-top:8px;">
          ç”²ç‹€è…ºå‘ˆè´è¶ç‹€ï¼Œåˆ†å¸ƒæ–¼
          <select id="q1-blank1" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>å–‰éƒ¨æ°£ç®¡</option>
            <option>èƒ¸è…”å¿ƒè‡Ÿ</option>
            <option>è…¹éƒ¨è…¸é“</option>
          </select>
          å…©å´ï¼Œå¯åˆ†æ³Œ
          <select id="q1-blank2" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>ç”²ç‹€è…ºç´ </option>
            <option>ç”Ÿé•·æ¿€ç´ </option>
            <option>è…ä¸Šè…ºç´ </option>
          </select>
          ï¼Œæ§åˆ¶ç´°èƒçš„
          <select id="q1-blank3" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>ä»£è¬ä½œç”¨</option>
            <option>å…ç–«åæ‡‰</option>
            <option>è¨Šæ¯å‚³é</option>
          </select>
          ï¼Œä»¥èª¿ç¯€ç”Ÿé•·ã€‚å¦‚æœç”²ç‹€è…ºç´ åˆ†æ³Œéå¤šï¼Œç´°èƒä»£è¬æ¯”è¼ƒå¿«ï¼Œèƒ½é‡æ¶ˆè€—ä¹Ÿæ¯”è¼ƒå¿«ï¼Œå› æ­¤å€‹é«”å¸¸é¡¯å¾—æ¶ˆç˜¦ï¼Œä¸”å®¹æ˜“ç¥ç¶“ç·Šå¼µã€ç…©èºï¼Œæ­¤ç¨±ç‚º
          <select id="q1-blank4" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>ç”²ç‹€è…ºäº¢é€²</option>
            <option>ç”²ç‹€è…ºä½ä¸‹</option>
            <option>ç³–å°¿ç—…</option>
          </select>
          ã€‚å¦‚æœå¹¼å¹´æ™‚æœŸç”²ç‹€è…ºç´ åˆ†æ³Œä¸è¶³ï¼Œæœƒä½¿å€‹é«”
          <select id="q1-blank5" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>ç”Ÿé•·é²ç·©</option>
            <option>å¿«é€Ÿé•·é«˜</option>
            <option>é«”é‡æš´å¢</option>
          </select>
          ï¼Œå½±éŸ¿
          <select id="q1-blank-intellect" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>æ™ºåŠ›ç™¼å±•</option>
            <option>è¦–åŠ›ç™¼å±•</option>
            <option>è½åŠ›ç™¼å±•</option>
          </select>
          ã€‚ç”²ç‹€è…ºç´ ç”±
          <select id="q1-blank6" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>èƒºåŸºé…¸å’Œç¢˜</option>
            <option>è‘¡è„ç³–å’Œæ°´</option>
            <option>è„‚è‚ªå’Œéˆ£</option>
          </select>
          æ‰€çµ„æˆï¼Œè‹¥æ”å…¥çš„
          <select id="q1-blank-iodine" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>ç¢˜</option>
            <option>éµ</option>
            <option>éˆ£</option>
          </select>
          ä¸è¶³æ™‚ï¼Œç„¡æ³•åˆæˆè¶³é‡çš„ç”²ç‹€è…ºç´ ï¼Œå‰‡æœƒä½¿ç”²ç‹€è…ºè…«è„¹ï¼Œä¿—ç¨±
          <select id="q1-blank7" class="fill-select">
            <option value="">ï¼ˆè«‹é¸æ“‡ï¼‰</option>
            <option>å¤§è„–å­ç—‡</option>
            <option>å­”é›€ç—‡</option>
            <option>ä¾å„’ç—‡</option>
          </select>
          ã€‚
        </div>

        <div class="btn-row">
          <button class="btn" id="q1-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="q1-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="q1-feedback"></div>
      </div>
    </section>

    <section class="section-card">
      <h2>äºŒã€ä½ç½®è§€å¯Ÿï¼šç”²ç‹€è…ºåœ¨å“ªè£¡ï¼Ÿ</h2>
      <p class="instruction">è«‹è§€å¯Ÿä¸‹åœ–ä¸­ç”²ç‹€è…ºçš„ä½ç½®ï¼Œæƒ³æƒ³çœ‹ï¼šå®ƒç‚ºä»€éº¼æœƒè¢«æ¯”å–»æˆã€Œè´è¶ã€ï¼Ÿ</p>
      <div class="main-image-wrapper">
        <img src="5_1.png" alt="ç”²ç‹€è…ºçš„ä½ç½®ç¤ºæ„åœ–" class="main-image">
      </div>
    </section>

    <section class="section-card" id="video-section">
      <h2>ä¸‰ã€å½±ç‰‡å­¸ç¿’ï¼šè·Ÿè‘—å°ˆå®¶èªè­˜ç”²ç‹€è…º</h2>
      <p class="instruction">è«‹è§€çœ‹ä¸‹åˆ—å…©æ®µ YouTube å½±ç‰‡ï¼Œè§€å¯Ÿç”²ç‹€è…ºç´ ã€Œéå¤šã€èˆ‡ã€Œä¸è¶³ã€å°äººé«”çš„å½±éŸ¿ï¼Œå†å›ç­”ä¸‹æ–¹çš„æ¸¬é©—ã€‚</p>

      <div class="video-grid">
        <div class="video-item">
          <h3>å½±ç‰‡ä¸€ï¼šåƒä¸èƒ–æœ‰ç—…ï¼Ÿ</h3>
          <div class="video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/3OfkVKJ0HuY"
              title="ç”²ç‹€è…ºäº¢é€²ç›¸é—œå½±ç‰‡"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>
        </div>
        <div class="video-item">
          <h3>å½±ç‰‡äºŒï¼šå·´è¥¿ä¸è€å¥³å¬°</h3>
          <div class="video-wrapper">
            <iframe
              src="https://www.youtube.com/embed/I72_eHjjdE4"
              title="ç”²ç‹€è…ºä¸è¶³ç›¸é—œå½±ç‰‡"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>
        </div>
      </div>

      <div class="question-card" id="vq1-card">
        <div class="question-title">å½±ç‰‡é¡Œ 1ï¼šæˆäººç”²ç‹€è…ºäº¢é€²ï¼ˆå–®é¸ï¼‰</div>
        <div class="question-body">
          è§€çœ‹å½±ç‰‡ä¸€å¾Œï¼Œæˆ‘å€‘çŸ¥é“ç•¶æˆå¹´äººç”²ç‹€è…ºç´ åˆ†æ³Œã€Œéå¤šã€ï¼ˆäº¢é€²ï¼‰æ™‚ï¼Œé›–ç„¶é£Ÿæ…¾å¾ˆå¥½ï¼Œä½†èº«é«”é€šå¸¸æœƒå‡ºç¾ä»€éº¼è®ŠåŒ–ï¼Ÿ
          <ul class="options-list">
            <li>
              <label>
                <input type="radio" name="vq1-option" value="A">
                é«”é‡å¿«é€Ÿå¢åŠ ï¼Œè®Šå¾—è‚¥èƒ–
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq1-option" value="B">
                é«”é‡æ¸›è¼•ï¼Œä¸”å®¹æ˜“æ‰‹æŠ–ã€å¿ƒè·³éå¿«
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq1-option" value="C">
                ä¸€ç›´æƒ³ç¡è¦ºï¼Œå®Œå…¨ä¸æƒ³å‹•
              </label>
            </li>
          </ul>
        </div>
        <div class="btn-row">
          <button class="btn" id="vq1-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="vq1-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="vq1-feedback"></div>
      </div>

      <div class="question-card" id="vq2-card">
        <div class="question-title">å½±ç‰‡é¡Œ 2ï¼šå¹¼å¹´ç”²ç‹€è…ºä¸è¶³ï¼ˆå–®é¸ï¼‰</div>
        <div class="question-body">
          å½±ç‰‡äºŒä¸­çš„å·´è¥¿å¥³å­ç‘ªåˆ©äºï¼Œå› ç‚ºã€Œå¹¼å¹´æ™‚æœŸã€æ¥µåº¦ç¼ºä¹ç”²ç‹€è…ºç´ ï¼Œå°è‡´äº†ä»€éº¼åš´é‡çš„å¾Œæœï¼Ÿ
          <ul class="options-list">
            <li>
              <label>
                <input type="radio" name="vq2-option" value="A">
                èº«é«”èˆ‡æ™ºåŠ›åœæ­¢ç™¼è‚²ï¼Œ30æ­²äº†ä»åƒå€‹å¬°å…’
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq2-option" value="B">
                èº«é«˜ç”Ÿé•·é€Ÿåº¦éå¿«ï¼Œè®Šæˆå·¨äºº
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq2-option" value="C">
                é ­é«®è®Šç™½ï¼Œçš®è†šå‡ºç¾çšºç´‹ï¼Œå¿«é€Ÿè€åŒ–
              </label>
            </li>
          </ul>
        </div>
        <div class="btn-row">
          <button class="btn" id="vq2-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="vq2-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="vq2-feedback"></div>
      </div>

      <div class="question-card" id="vq3-card">
        <div class="question-title">å½±ç‰‡é¡Œ 3ï¼šç¶œåˆæ¯”è¼ƒï¼ˆå–®é¸ï¼‰</div>
        <div class="question-body">
          ç¶œåˆå…©æ®µå½±ç‰‡çš„å…§å®¹ï¼Œé—œæ–¼ç”²ç‹€è…ºåˆ†æ³Œç•°å¸¸çš„æ•˜è¿°ï¼Œä¸‹åˆ—ä½•è€…æ­£ç¢ºï¼Ÿ
          <ul class="options-list">
            <li>
              <label>
                <input type="radio" name="vq3-option" value="A">
                ç„¡è«–æ˜¯åˆ†æ³Œéå¤šæˆ–éå°‘ï¼Œéƒ½æœƒè®“äººè®Šå¾—å¾ˆèƒ–
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq3-option" value="B">
                æˆå¹´äººåˆ†æ³Œéå¤šæœƒå°è‡´ç”Ÿé•·åœæ»¯ï¼›å¹¼å¹´åˆ†æ³Œä¸è¶³å‰‡æœƒç²¾ç¥äº¢å¥®
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="vq3-option" value="C">
                å¹¼å¹´åˆ†æ³Œä¸è¶³æœƒå½±éŸ¿æ™ºåŠ›èˆ‡ç”Ÿé•·ï¼ˆå‘†å°ç—‡ï¼‰ï¼›æˆå¹´åˆ†æ³Œéå¤šå‰‡æ˜“æ¶ˆç˜¦ã€ç·Šå¼µï¼ˆäº¢é€²ï¼‰
              </label>
            </li>
          </ul>
        </div>
        <div class="btn-row">
          <button class="btn" id="vq3-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="vq3-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="vq3-feedback"></div>
      </div>
      
      <div class="main-image-wrapper" id="bonus-image-area" style="margin-top: 30px; display: none;">
        <h3 style="border:none; color: var(--text);">ğŸ‰ æ­å–œå®Œæˆå½±ç‰‡æŒ‘æˆ°ï¼é€™æ˜¯è£œå……åœ–è§£ï¼š</h3>
        <img src="5_2.png" alt="ç”²ç‹€è…ºç›¸é—œè£œå……åœ–ç‰‡" class="main-image">
      </div>

    </section>

    <section class="section-card" id="practice-section">
      <h2>å››ã€äº’å‹•ç·´ç¿’ï¼šæˆç‚ºä»£è¬å°åµæ¢</h2>
      <p class="instruction">æ ¹æ“šä¸Šæ–¹èª²æ–‡èˆ‡å½±ç‰‡å…§å®¹ï¼Œå®Œæˆä¸‹åˆ—å››é¡Œäº’å‹•ç·´ç¿’ã€‚å…¨éƒ¨é¡Œç›®ç­”å°å¾Œï¼Œæ‰æœƒé–‹å•Ÿé å°¾ã€Œä¸‹ä¸€é ã€æŒ‰éˆ•ã€‚</p>

      <div class="question-card" id="q4-card">
        <div class="question-title">ç·´ç¿’ 1ï¼šç”²ç‹€è…ºç´ åœ¨åšä»€éº¼ï¼Ÿï¼ˆå–®é¸é¡Œï¼‰</div>
        <div class="question-body">
          ä¸‹åˆ—å“ªä¸€é …æœ€ç¬¦åˆç”²ç‹€è…ºç´ çš„ä¸»è¦åŠŸèƒ½ï¼Ÿ
          <ul class="options-list">
            <li>
              <label>
                <input type="radio" name="q4-option" value="A">
                å¹«åŠ©ç™½è¡€çƒåå™¬ç—…åŸé«”ï¼Œç›´æ¥æ®ºæ­»ç´°èŒ
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="q4-option" value="B">
                èª¿ç¯€ç´°èƒçš„ä»£è¬é€Ÿåº¦ï¼Œå½±éŸ¿èƒ½é‡æ¶ˆè€—èˆ‡é«”æº«
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="q4-option" value="C">
                è² è²¬æŠŠæ°§æ°£å¾è‚ºæ³¡å¸¶åˆ°å…¨èº«çµ„ç¹”
              </label>
            </li>
          </ul>
        </div>
        <div class="btn-row">
          <button class="btn" id="q4-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="q4-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="q4-feedback"></div>
      </div>

      <div class="question-card" id="q5-card">
        <div class="question-title">ç·´ç¿’ 2ï¼šç¼ºç¢˜èˆ‡å¤§è„–å­ç—‡ï¼ˆæ˜¯éé¡Œï¼‰</div>
        <div class="question-body">
          åˆ¤æ–·ä¸‹åˆ—æ•˜è¿°æ˜¯å¦æ­£ç¢ºï¼Œä¸¦å¾ä¸‹æ‹‰å¼é¸å–®ä¸­é¸æ“‡ã€Œæ˜¯ã€æˆ–ã€Œå¦ã€ï¼š
          <br><br>
          ã€Œé•·æœŸæ”å–ç¢˜ä¸è¶³çš„é£²é£Ÿï¼Œå¯èƒ½å°è‡´ç”²ç‹€è…ºè…«å¤§ï¼Œå½¢æˆã€å¤§è„–å­ç—‡ã€ã€‚ã€
          <br><br>
          æˆ‘çš„åˆ¤æ–·ï¼š
          <select id="q5-select">
            <option value="">â”€â”€ è«‹é¸æ“‡ â”€â”€</option>
            <option value="true">æ˜¯</option>
            <option value="false">å¦</option>
          </select>
        </div>
        <div class="btn-row">
          <button class="btn" id="q5-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="q5-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="q5-feedback"></div>
      </div>

      <div class="question-card" id="q6-card">
        <div class="question-title">ç·´ç¿’ 3ï¼šè¡¨æ ¼é…å°â€”åˆ¤æ–·ç”²ç‹€è…ºç´ åˆ†æ³Œç‹€æ…‹ï¼ˆæ‹–æ›³é¡Œï¼‰</div>
        <div class="question-body">
          è«‹å°‡ä¸‹åˆ—ç”Ÿç†ç‰¹å¾µï¼Œæ‹–æ›³åˆ°ã€Œç”²ç‹€è…ºç´ åˆ†æ³Œéå¤šã€æˆ–ã€Œç”²ç‹€è…ºç´ åˆ†æ³Œéå°‘ã€çš„å€å¡Šä¸­ã€‚
          <div class="match-grid" style="margin-top:10px;">
            <div class="match-column">
              <div class="match-column-header">ç”²ç‹€è…ºç´ åˆ†æ³Œéå¤š</div>
              <div class="drop-zone" id="zone-high" data-type="high"></div>
            </div>
            <div class="match-column">
              <div class="match-column-header">ç”²ç‹€è…ºç´ åˆ†æ³Œéå°‘</div>
              <div class="drop-zone" id="zone-low" data-type="low"></div>
            </div>
          </div>

          <div class="trait-pool" id="trait-pool">
            <div class="trait-chip" id="trait1" draggable="true" data-target="high">ç¥ç¶“ç·Šå¼µã€ç…©èº</div>
            <div class="trait-chip" id="trait5" draggable="true" data-target="low">å®¹æ˜“ç–²å€¦æƒ³ç¡</div>
            <div class="trait-chip" id="trait2" draggable="true" data-target="high">å¿ƒè·³è®Šå¿«</div>
            <div class="trait-chip" id="trait7" draggable="true" data-target="low">é«”é‡å¢åŠ </div>
            <div class="trait-chip" id="trait3" draggable="true" data-target="high">é«”é‡æ¸›è¼•ä½†é£Ÿæ…¾å¥½</div>
            <div class="trait-chip" id="trait6" draggable="true" data-target="low">æ€•å†·ã€æ‰‹è…³å†°å†·</div>
            <div class="trait-chip" id="trait4" draggable="true" data-target="high">å®¹æ˜“æ€•ç†±</div>
            <div class="trait-chip" id="trait8" draggable="true" data-target="low">ä»£è¬è®Šæ…¢</div>
          </div>
        </div>
        <div class="btn-row">
          <button class="btn" id="q6-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="q6-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="q6-feedback"></div>
      </div>

      <div class="question-card" id="q7-card">
        <div class="question-title">ç·´ç¿’ 4ï¼šç”Ÿæ´»æƒ…å¢ƒå°æ¨ç†</div>
        <div class="question-body">
          å°å®‰æœ€è¿‘æ”¹åƒæ²’æœ‰åŠ ç¢˜çš„æµ·é¹½ï¼Œåˆå¾ˆå°‘åƒæµ·å¸¶ã€ç´«èœç­‰å«ç¢˜é£Ÿç‰©ã€‚
          é•·æœŸä¸‹ä¾†ï¼Œå“ªä¸€ç¨®å¥åº·é¢¨éšªæœ€æœ‰å¯èƒ½å¢åŠ ï¼Ÿ
          <ul class="options-list">
            <li>
              <label>
                <input type="radio" name="q7-option" value="A">
                ç”²ç‹€è…ºè…«å¤§ï¼Œå‡ºç¾ã€Œå¤§è„–å­ç—‡ã€
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="q7-option" value="B">
                è¦–åŠ›è®Šå¾—è¶…ç´šå¥½ï¼Œçœ‹å¾—æ¯”æœ›é é¡é‚„æ¸…æ¥š
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="q7-option" value="C">
                é¦¬ä¸Šé•·é«˜ 10 å…¬åˆ†ï¼Œå®Œå…¨ä¸å—å…¶ä»–å› ç´ å½±éŸ¿
              </label>
            </li>
          </ul>
        </div>
        <div class="btn-row">
          <button class="btn" id="q7-check">æª¢æŸ¥ç­”æ¡ˆ</button>
          <button class="btn btn-secondary" id="q7-reset" style="display:none;">é‡åšæœ¬é¡Œ</button>
        </div>
        <div class="feedback" id="q7-feedback"></div>
      </div>
    </section>

    <div class="bottom-nav">
      <button id="prevBtn" class="nav-btn">&larr; ä¸Šä¸€é </button>
      <span id="progress-info">ç›®å‰é€²åº¦ï¼š0/8</span>
      <button id="nextBtn" class="nav-btn disabled">ä¸‹ä¸€é  &rarr;</button>
    </div>

  </div>

  <script>
    // ç´€éŒ„æ¯ä¸€é¡Œæ˜¯å¦å…¨éƒ¨ç­”å°
    // å…±8é¡Œï¼šQ1, VQ1, VQ2, VQ3, Q4, Q5, Q6, Q7
    const questionStates = {
      q1: false,
      vq1: false,
      vq2: false,
      vq3: false,
      q4: false,
      q5: false,
      q6: false,
      q7: false
    };

    // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰å½±ç‰‡é¡Œ (VQ1~VQ3) éƒ½å®Œæˆï¼Œè‹¥å®Œæˆå‰‡é¡¯ç¤ºéš±è—åœ–ç‰‡
    function checkVideoBonus() {
      const bonusArea = document.getElementById('bonus-image-area');
      if (questionStates.vq1 && questionStates.vq2 && questionStates.vq3) {
        bonusArea.style.display = 'block';
      } else {
        bonusArea.style.display = 'none';
      }
    }

    // æ›´æ–°å°è¦½æŒ‰éˆ•ç‹€æ…‹
    function updateNextButtonState() {
      // è¨ˆç®—ç›®å‰ç­”å°é¡Œæ•¸
      const values = Object.values(questionStates);
      const correctCount = values.filter(v => v).length;
      const totalCount = values.length;
      
      // æ›´æ–°é å°¾é€²åº¦æ–‡å­—
      const progressInfo = document.getElementById('progress-info');
      if(progressInfo) {
        progressInfo.textContent = `ç›®å‰é€²åº¦ï¼š${correctCount}/${totalCount}`;
      }

      const nextBtn = document.getElementById('nextBtn');
      if (!nextBtn) return;

      // åªæœ‰ç•¶æ‰€æœ‰ç‹€æ…‹çš†ç‚º true æ™‚ï¼Œæ‰è§£é–æŒ‰éˆ•
      if (correctCount === totalCount) {
        // ç§»é™¤ disabled æ¨£å¼é¡åˆ¥
        nextBtn.classList.remove('disabled');
        // æ›´æ–°æ–‡å­—æç¤º (å¯é¸)
        nextBtn.innerHTML = 'ä¸‹ä¸€é  &rarr;';
      } else {
        // åŠ ä¸Š disabled æ¨£å¼é¡åˆ¥
        nextBtn.classList.add('disabled');
      }
    }

    function setQuestionResult(id, isCorrect, message) {
      const card = document.getElementById(id + '-card');
      const feedback = document.getElementById(id + '-feedback');
      card.classList.remove('correct', 'incorrect');
      if (isCorrect) {
        card.classList.add('correct');
      } else {
        card.classList.add('incorrect');
      }
      if (feedback) {
        feedback.textContent = message;
      }
    }

    // ---- èª²æ–‡å¡«å…… select æ¨£å¼ ----
    function updateFillSelectStyle(selectEl) {
      if (selectEl.value === '') {
        selectEl.classList.remove('filled');
      } else {
        selectEl.classList.add('filled');
      }
    }

    function initFillSelects() {
      const fills = document.querySelectorAll('.fill-select');
      fills.forEach(sel => {
        updateFillSelectStyle(sel);
        sel.addEventListener('change', () => updateFillSelectStyle(sel));
      });
    }

    // Q1ï¼šèª²æ–‡å¡«å……
    function checkQ1() {
      const answerKey = {
        'q1-blank1': 'å–‰éƒ¨æ°£ç®¡',
        'q1-blank2': 'ç”²ç‹€è…ºç´ ',
        'q1-blank3': 'ä»£è¬ä½œç”¨',
        'q1-blank4': 'ç”²ç‹€è…ºäº¢é€²',
        'q1-blank5': 'ç”Ÿé•·é²ç·©',
        'q1-blank-intellect': 'æ™ºåŠ›ç™¼å±•',
        'q1-blank6': 'èƒºåŸºé…¸å’Œç¢˜',
        'q1-blank-iodine': 'ç¢˜',
        'q1-blank7': 'å¤§è„–å­ç—‡'
      };

      let allSelected = true;
      for (const id in answerKey) {
        const sel = document.getElementById(id);
        if (!sel || !sel.value) {
          allSelected = false;
          break;
        }
      }
      if (!allSelected) {
        alert('è«‹å…ˆå®Œæˆæœ¬æ®µæ‰€æœ‰å¡«ç©ºå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }

      let allCorrect = true;
      for (const id in answerKey) {
        const sel = document.getElementById(id);
        if (sel.value !== answerKey[id]) {
          allCorrect = false;
          break;
        }
      }

      const checkBtn = document.getElementById('q1-check');
      const resetBtn = document.getElementById('q1-reset');
      checkBtn.disabled = true;

      if (allCorrect) {
        questionStates.q1 = true;
        setQuestionResult('q1', true, 'å¤ªæ£’äº†ï¼ä½ å·²å®Œæ•´æŒæ¡ç”²ç‹€è…ºçš„åŸºæœ¬ä½ç½®èˆ‡åŠŸèƒ½ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.q1 = false;
        setQuestionResult('q1', false, 'é‚„æœ‰éƒ¨åˆ†å¡«ç©ºä¸æ­£ç¢ºï¼Œè«‹ä¾æç¤ºé‡åšæœ¬é¡Œã€‚');
        resetBtn.style.display = 'inline-flex';
      }
      updateNextButtonState();
    }

    function resetQ1() {
      const ids = [
        'q1-blank1','q1-blank2','q1-blank3','q1-blank4',
        'q1-blank5','q1-blank-intellect','q1-blank6','q1-blank-iodine','q1-blank7'
      ];
      ids.forEach(id => {
        const sel = document.getElementById(id);
        if(sel) {
          sel.value = '';
          updateFillSelectStyle(sel);
        }
      });
      const card = document.getElementById('q1-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('q1-feedback').textContent = '';
      document.getElementById('q1-check').disabled = false;
      document.getElementById('q1-reset').style.display = 'none';
      questionStates.q1 = false;
      updateNextButtonState();
    }

    // --- å½±ç‰‡é¡Œé‚è¼¯ VQ1, VQ2, VQ3 ---

    // VQ1: æˆäººäº¢é€²
    function checkVQ1() {
      const selected = document.querySelector('input[name="vq1-option"]:checked');
      if (!selected) {
        alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('vq1-check');
      const resetBtn = document.getElementById('vq1-reset');
      checkBtn.disabled = true;

      if (selected.value === 'B') {
        questionStates.vq1 = true;
        setQuestionResult('vq1', true, 'æ­£ç¢ºï¼ç”²ç‹€è…ºäº¢é€²æœƒåŠ é€Ÿä»£è¬ï¼Œå°è‡´é«”é‡æ¸›è¼•ã€æ‰‹æŠ–èˆ‡å¿ƒè·³éå¿«ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.vq1 = false;
        setQuestionResult('vq1', false, 'å†çœ‹ä¸€ä¸‹å½±ç‰‡ä¸€å–”ï¼ä»£è¬è®Šå¿«é€šå¸¸æœƒè®“äººè®Šç˜¦é‚„æ˜¯è®Šèƒ–ï¼Ÿ');
        resetBtn.style.display = 'inline-flex';
      }
      checkVideoBonus();
      updateNextButtonState();
    }

    function resetVQ1() {
      document.querySelectorAll('input[name="vq1-option"]').forEach(el => el.checked = false);
      const card = document.getElementById('vq1-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('vq1-feedback').textContent = '';
      document.getElementById('vq1-check').disabled = false;
      document.getElementById('vq1-reset').style.display = 'none';
      questionStates.vq1 = false;
      checkVideoBonus(); 
      updateNextButtonState();
    }

    // VQ2: å¹¼å¹´ä¸è¶³
    function checkVQ2() {
      const selected = document.querySelector('input[name="vq2-option"]:checked');
      if (!selected) {
        alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('vq2-check');
      const resetBtn = document.getElementById('vq2-reset');
      checkBtn.disabled = true;

      if (selected.value === 'A') {
        questionStates.vq2 = true;
        setQuestionResult('vq2', true, 'ç­”å°äº†ï¼å¹¼å¹´ç¼ºä¹ç”²ç‹€è…ºç´ æœƒåš´é‡å½±éŸ¿ç”Ÿé•·èˆ‡æ™ºåŠ›ç™¼å±•ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.vq2 = false;
        setQuestionResult('vq2', false, 'å½±ç‰‡äºŒä¸­çš„ç‘ªåˆ©äºçœ‹èµ·ä¾†åƒå€‹å¬°å…’ï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼');
        resetBtn.style.display = 'inline-flex';
      }
      checkVideoBonus();
      updateNextButtonState();
    }

    function resetVQ2() {
      document.querySelectorAll('input[name="vq2-option"]').forEach(el => el.checked = false);
      const card = document.getElementById('vq2-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('vq2-feedback').textContent = '';
      document.getElementById('vq2-check').disabled = false;
      document.getElementById('vq2-reset').style.display = 'none';
      questionStates.vq2 = false;
      checkVideoBonus();
      updateNextButtonState();
    }

    // VQ3: ç¶œåˆæ¯”è¼ƒ
    function checkVQ3() {
      const selected = document.querySelector('input[name="vq3-option"]:checked');
      if (!selected) {
        alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('vq3-check');
      const resetBtn = document.getElementById('vq3-reset');
      checkBtn.disabled = true;

      if (selected.value === 'C') {
        questionStates.vq3 = true;
        setQuestionResult('vq3', true, 'å®Œå…¨æ­£ç¢ºï¼ä½ å·²ç¶“èƒ½æ¸…æ¥šåˆ†è¾¨ç”²ç‹€è…ºç•°å¸¸åœ¨ä¸åŒæ™‚æœŸçš„ç—‡ç‹€äº†ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.vq3 = false;
        setQuestionResult('vq3', false, 'è«‹å›æƒ³å…©æ®µå½±ç‰‡çš„é‡é»ï¼šä¸€å€‹æ˜¯é•·ä¸å¤§ï¼ˆå‘†å°ç—‡ï¼‰ï¼Œä¸€å€‹æ˜¯åƒä¸èƒ–ä¸”ç·Šå¼µï¼ˆäº¢é€²ï¼‰ã€‚');
        resetBtn.style.display = 'inline-flex';
      }
      checkVideoBonus();
      updateNextButtonState();
    }

    function resetVQ3() {
      document.querySelectorAll('input[name="vq3-option"]').forEach(el => el.checked = false);
      const card = document.getElementById('vq3-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('vq3-feedback').textContent = '';
      document.getElementById('vq3-check').disabled = false;
      document.getElementById('vq3-reset').style.display = 'none';
      questionStates.vq3 = false;
      checkVideoBonus();
      updateNextButtonState();
    }

    // --- äº’å‹•ç·´ç¿’é¡Œ (Q4, Q5, Q6, Q7) ---

    // Q4ï¼šå–®é¸
    function checkQ4() {
      const selected = document.querySelector('input[name="q4-option"]:checked');
      if (!selected) {
        alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('q4-check');
      const resetBtn = document.getElementById('q4-reset');
      checkBtn.disabled = true;

      if (selected.value === 'B') {
        questionStates.q4 = true;
        setQuestionResult('q4', true, 'ç­”å°ï¼ç”²ç‹€è…ºç´ ä¸»è¦æ˜¯èª¿ç¯€ä»£è¬é€Ÿç‡èˆ‡èƒ½é‡æ¶ˆè€—ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.q4 = false;
        setQuestionResult('q4', false, 'å†æƒ³æƒ³ï¼šç”²ç‹€è…ºç´ å’Œã€Œä»£è¬ã€æœ€æœ‰é—œä¿‚ï¼Œè€Œä¸æ˜¯å…ç–«æˆ–é‹é€æ°§æ°£ã€‚');
        resetBtn.style.display = 'inline-flex';
      }
      updateNextButtonState();
    }

    function resetQ4() {
      document.querySelectorAll('input[name="q4-option"]').forEach(el => el.checked = false);
      const card = document.getElementById('q4-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('q4-feedback').textContent = '';
      document.getElementById('q4-check').disabled = false;
      document.getElementById('q4-reset').style.display = 'none';
      questionStates.q4 = false;
      updateNextButtonState();
    }

    // Q5ï¼šæ˜¯éé¡Œï¼ˆä¸‹æ‹‰ï¼‰
    function checkQ5() {
      const sel = document.getElementById('q5-select');
      if (!sel.value) {
        alert('è«‹å…ˆå¾ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡ã€Œæ˜¯ã€æˆ–ã€Œå¦ã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('q5-check');
      const resetBtn = document.getElementById('q5-reset');
      checkBtn.disabled = true;

      if (sel.value === 'true') {
        questionStates.q5 = true;
        setQuestionResult('q5', true, 'æ­£ç¢ºï¼ç¼ºç¢˜æœƒä½¿ç”²ç‹€è…ºç‚ºäº†åˆæˆæ›´å¤šç”²ç‹€è…ºç´ è€Œè…«å¤§ï¼Œå½¢æˆå¤§è„–å­ç—‡ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.q5 = false;
        setQuestionResult('q5', false, 'å†æƒ³æƒ³èª²æ–‡ä¸­å°ã€Œç¢˜ã€èˆ‡ã€Œå¤§è„–å­ç—‡ã€çš„æè¿°ã€‚');
        resetBtn.style.display = 'inline-flex';
      }
      updateNextButtonState();
    }

    function resetQ5() {
      const sel = document.getElementById('q5-select');
      sel.value = '';
      const card = document.getElementById('q5-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('q5-feedback').textContent = '';
      document.getElementById('q5-check').disabled = false;
      document.getElementById('q5-reset').style.display = 'none';
      questionStates.q5 = false;
      updateNextButtonState();
    }

    // Q6ï¼šæ‹–æ›³é…å°é¡Œ
    function initDragAndDrop() {
      const chips = document.querySelectorAll('.trait-chip');
      const zones = document.querySelectorAll('.drop-zone, #trait-pool');

      chips.forEach(chip => {
        chip.addEventListener('dragstart', e => {
          e.dataTransfer.setData('text/plain', e.target.id);
          setTimeout(() => {
            e.target.style.opacity = '0.4';
          }, 0);
        });
        chip.addEventListener('dragend', e => {
          e.target.style.opacity = '1';
        });
      });

      zones.forEach(zone => {
        zone.addEventListener('dragover', e => {
          e.preventDefault();
          zone.classList.add('over');
        });
        zone.addEventListener('dragleave', () => {
          zone.classList.remove('over');
        });
        zone.addEventListener('drop', e => {
          e.preventDefault();
          zone.classList.remove('over');
          const id = e.dataTransfer.getData('text/plain');
          const chip = document.getElementById(id);
          if (chip) {
            zone.appendChild(chip);
          }
        });
      });
    }

    function checkQ6() {
      const zoneHigh = document.getElementById('zone-high');
      const zoneLow = document.getElementById('zone-low');

      const highChips = Array.from(zoneHigh.querySelectorAll('.trait-chip'));
      const lowChips = Array.from(zoneLow.querySelectorAll('.trait-chip'));

      // å¿…é ˆå…¨éƒ¨éƒ½ç§»å‡ºé¡Œåº«
      const pool = document.getElementById('trait-pool');
      const poolChips = pool.querySelectorAll('.trait-chip');
      if (poolChips.length > 0) {
        alert('è«‹å…ˆå°‡æ‰€æœ‰ç‰¹å¾µæ‹–æ›³åˆ°ã€Œåˆ†æ³Œéå¤šã€æˆ–ã€Œåˆ†æ³Œéå°‘ã€å€å¡Šï¼Œå†æŒ‰æª¢æŸ¥ç­”æ¡ˆã€‚');
        return;
      }

      // åˆ¤æ–·æ­£ç¢ºæ€§
      let allCorrect = true;

      highChips.forEach(chip => {
        if (chip.dataset.target !== 'high') {
          allCorrect = false;
        }
      });

      lowChips.forEach(chip => {
        if (chip.dataset.target !== 'low') {
          allCorrect = false;
        }
      });

      const checkBtn = document.getElementById('q6-check');
      const resetBtn = document.getElementById('q6-reset');
      checkBtn.disabled = true;

      if (allCorrect) {
        questionStates.q6 = true;
        setQuestionResult('q6', true, 'å¤ªå¥½äº†ï¼ä½ å·²èƒ½åˆ†è¾¨å“ªäº›ç—‡ç‹€æ˜¯ç”²ç‹€è…ºç´ åˆ†æ³Œéå¤šï¼Œå“ªäº›æ˜¯åˆ†æ³Œéå°‘ã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.q6 = false;
        setQuestionResult('q6', false, 'æœ‰äº›ç‰¹å¾µè¢«æ”¾éŒ¯å€äº†ï¼Œå†å›æƒ³èª²æ–‡ä¸­çš„ç—‡ç‹€æè¿°ï¼Œé‡æ–°é…å°ä¸€æ¬¡å§ï¼');
        resetBtn.style.display = 'inline-flex';
      }
      updateNextButtonState();
    }

    function resetQ6() {
      const pool = document.getElementById('trait-pool');
      const chips = document.querySelectorAll('.trait-chip');
      chips.forEach(chip => pool.appendChild(chip));

      const card = document.getElementById('q6-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('q6-feedback').textContent = '';
      document.getElementById('q6-check').disabled = false;
      document.getElementById('q6-reset').style.display = 'none';
      questionStates.q6 = false;
      updateNextButtonState();
    }

    // Q7ï¼šæƒ…å¢ƒé¡Œ
    function checkQ7() {
      const selected = document.querySelector('input[name="q7-option"]:checked');
      if (!selected) {
        alert('è«‹å…ˆé¸æ“‡ä¸€å€‹ç­”æ¡ˆå†æŒ‰ã€Œæª¢æŸ¥ç­”æ¡ˆã€ã€‚');
        return;
      }
      const checkBtn = document.getElementById('q7-check');
      const resetBtn = document.getElementById('q7-reset');
      checkBtn.disabled = true;

      if (selected.value === 'A') {
        questionStates.q7 = true;
        setQuestionResult('q7', true, 'æ­£ç¢ºï¼é•·æœŸç¼ºç¢˜æœƒå¢åŠ ç¼ºç¢˜æ€§ç”²ç‹€è…ºè…«ï¼ˆå¤§è„–å­ç—‡ï¼‰çš„é¢¨éšªã€‚');
        resetBtn.style.display = 'none';
      } else {
        questionStates.q7 = false;
        setQuestionResult('q7', false, 'æƒ³æƒ³èª²æ–‡ä¸­æåˆ°ã€Œç¼ºç¢˜ã€æœ€ç›´æ¥å½±éŸ¿çš„æ˜¯å“ªä¸€å€‹å™¨å®˜èˆ‡ç–¾ç—…ã€‚');
        resetBtn.style.display = 'inline-flex';
      }
      updateNextButtonState();
    }

    function resetQ7() {
      document.querySelectorAll('input[name="q7-option"]').forEach(el => el.checked = false);
      const card = document.getElementById('q7-card');
      card.classList.remove('correct', 'incorrect');
      document.getElementById('q7-feedback').textContent = '';
      document.getElementById('q7-check').disabled = false;
      document.getElementById('q7-reset').style.display = 'none';
      questionStates.q7 = false;
      updateNextButtonState();
    }

    // å°è¦½æŒ‰éˆ•é‚è¼¯
    function setupNavButtons() {
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');

      if (!prevBtn || !nextBtn) return;

      // ä¸Šä¸€é é€£è‡³ 4.html
      prevBtn.addEventListener('click', function () {
        window.location.href = '4.html';
      });

      // ä¸‹ä¸€é é€£è‡³ ./6.html
      nextBtn.addEventListener('click', function () {
        // å¦‚æœæœ‰ disabled classï¼Œå‰‡ä¸è·³è½‰ï¼Œä¸¦è·³å‡ºæç¤º
        if (nextBtn.classList.contains('disabled')) {
          const completed = Object.values(questionStates).filter(v => v).length;
          alert(`åŠ æ²¹ï¼é‚„æœ‰é¡Œç›®æ²’å®Œæˆå–” (ç›®å‰é€²åº¦ï¼š${completed}/8)`);
          return;
        }
        window.location.href = './6.html';
      });
    }

    // ç¶å®šäº‹ä»¶
    document.addEventListener('DOMContentLoaded', function () {
      // å¡«å……é¸å–®æ¨£å¼
      initFillSelects();

      // ç¶å®šå„é¡ŒæŒ‰éˆ•äº‹ä»¶
      document.getElementById('q1-check').addEventListener('click', checkQ1);
      document.getElementById('q1-reset').addEventListener('click', resetQ1);

      document.getElementById('vq1-check').addEventListener('click', checkVQ1);
      document.getElementById('vq1-reset').addEventListener('click', resetVQ1);

      document.getElementById('vq2-check').addEventListener('click', checkVQ2);
      document.getElementById('vq2-reset').addEventListener('click', resetVQ2);

      document.getElementById('vq3-check').addEventListener('click', checkVQ3);
      document.getElementById('vq3-reset').addEventListener('click', resetVQ3);

      document.getElementById('q4-check').addEventListener('click', checkQ4);
      document.getElementById('q4-reset').addEventListener('click', resetQ4);

      document.getElementById('q5-check').addEventListener('click', checkQ5);
      document.getElementById('q5-reset').addEventListener('click', resetQ5);

      document.getElementById('q6-check').addEventListener('click', checkQ6);
      document.getElementById('q6-reset').addEventListener('click', resetQ6);

      document.getElementById('q7-check').addEventListener('click', checkQ7);
      document.getElementById('q7-reset').addEventListener('click', resetQ7);

      setupNavButtons();
      initDragAndDrop();
      updateNextButtonState(); // åˆå§‹åŒ–æŒ‰éˆ•ç‹€æ…‹
      checkVideoBonus(); // åˆå§‹åŒ–éš±è—åœ–ç‰‡
    });
  </script>
</body>
</html>