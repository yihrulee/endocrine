<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¸½æŒ‡æ®ï¼šè…¦å‚è…º</title>
    <style>
        /* --- åŸºç¤æ¨£å¼ --- */
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 960px;
            margin: auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        /* --- æ¨™é¡Œèˆ‡æ–‡æœ¬ --- */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 3px solid #007bff;
        }
        .header h1 {
            color: #007bff;
            font-size: 2.5em;
            font-weight: 700;
        }
        .text-section {
            font-size: 1.1em;
            margin-bottom: 30px;
            padding: 20px;
            border-left: 5px solid #007bff;
            background-color: #e9f5ff;
            border-radius: 5px;
        }
        .keyword {
            color: #d9534f;
            font-weight: bold;
        }

        /* --- åœ–ç‰‡å€å¡Š --- */
        .image-container {
            margin-top: 20px;
            margin-bottom: 30px;
            text-align: center;
        }
        .main-image {
            width: 100%;
            max-width: 640px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        .side-images {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            gap: 20px;
        }
        .side-image-item {
            flex: 1;
            padding: 0 10px;
            text-align: center;
        }
        .side-image-item img {
            width: 100%;
            height: auto;
            max-height: 250px;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        .image-caption {
            margin-top: 10px;
            font-size: 0.9em;
            color: #555;
            text-align: left;
            padding: 0 5px;
        }

        /* --- éš¨å ‚è©•é‡æ¨™é¡Œ --- */
        .quiz-section-title {
            margin-top: 50px;
            margin-bottom: 20px;
            color: #333;
            border-left: 8px solid #ffc107;
            padding-left: 15px;
            font-size: 1.8em;
            font-weight: bold;
        }

        /* --- é¡Œç›®å€å¡Šé€šç”¨æ¨£å¼ --- */
        .question-block {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 6px;
            background-color: #fff;
            /* è®“é¡Œç›®å€å¡Šæœ‰è¼•å¾®é™°å½± */
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        /* é‡é»æ•´ç†å€å¡Šæ¨£å¼ (è¡¨æ ¼é¡Œ) */
        .review-block {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #17a2b8; /* ä½¿ç”¨ä¸åŒé¡è‰²å€åˆ†é‡é»æ•´ç† */
            border-radius: 8px;
            background-color: #f0fbff;
        }
        .review-block h3 {
            color: #117a8b;
            margin-top: 0;
        }

        .question-title {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.05em;
        }

        /* --- è¡¨æ ¼æ¨£å¼ --- */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            background-color: #fff;
        }
        .comparison-table th, .comparison-table td {
            border: 1px solid #999;
            padding: 12px;
            text-align: center;
        }
        .comparison-table th {
            background-color: #343a40;
            color: #fff;
            font-weight: normal;
        }
        .comparison-table td {
            color: #333;
        }
        .table-select {
            padding: 5px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 1em;
            width: 90%;
            max-width: 150px;
        }

        /* --- é¸é …æ¨£å¼ --- */
        .option-label {
            display: block;
            padding: 10px 15px;
            margin-bottom: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            background-color: #fff;
        }
        .option-label:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }
        .option-label input {
            margin-right: 10px;
            transform: scale(1.2);
        }

        /* --- å›é¥‹èˆ‡æŒ‰éˆ• --- */
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 5px;
            font-weight: bold;
            display: none;
        }
        .correct {
            border: 2px solid #28a745;
            background-color: #d4edda;
            color: #155724;
        }
        .incorrect {
            border: 2px solid #dc3545;
            background-color: #f8d7da;
            color: #721c24;
        }
        .btn {
            padding: 8px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            margin-right: 10px;
            color: white;
        }
        .btn-check { background-color: #007bff; }
        .btn-check:hover:not(:disabled) { background-color: #0056b3; }
        .btn-retry { background-color: #ffc107; color: #333; display: none; }
        .btn:disabled { background-color: #ccc; cursor: not-allowed; }

        /* --- åº•éƒ¨å°è¦½ --- */
        .navigation {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
        }
        .nav-btn {
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 5px;
            background-color: #6c757d;
            color: white;
            transition: background-color 0.3s;
        }
        .nav-btn.disabled {
            background-color: #ccc;
            cursor: not-allowed;
            pointer-events: none;
        }
        .nav-btn-prev { background-color: #17a2b8; }
        .nav-btn-prev:hover { background-color: #138496; }

    </style>
</head>
<body>

<div class="container">
    <header class="header">
        <h1>ç¸½æŒ‡æ®ï¼šè…¦å‚è…º</h1>
    </header>

    <div class="text-section">
        <p>è…¦å‚è…ºä½æ–¼è…¦çš„åº•éƒ¨ï¼Œé›–ç„¶é«”ç©å¾ˆå°ï¼Œå»æ‰®æ¼”è‘—<span class="keyword">é—œéµè§’è‰²</span>ã€‚è…¦å‚è…ºåˆ†æ³Œçš„<span class="keyword">ç”Ÿé•·æ¿€ç´ </span>æ˜¯æ§åˆ¶ç”Ÿé•·ç™¼è‚²çš„ä¸»è¦æ¿€ç´ ï¼Œè‹¥åœ¨æˆé•·éšæ®µåˆ†æ³Œéå°‘æˆ–éå¤šï¼Œæœƒå½±éŸ¿å€‹é«”çš„ç™¼è‚²ï¼Œä¾‹å¦‚<span class="keyword">ä¾å„’ç—‡</span>å’Œ<span class="keyword">å·¨äººç—‡</span>ã€‚æ­¤å¤–ï¼Œè…¦å‚è…ºé‚„å¯ä»¥åˆ†æ³Œå¤šç¨®<span class="keyword">ä¿ƒé€²æ¿€ç´ </span>ï¼Œå½±éŸ¿å…¶ä»–å…§åˆ†æ³Œè…ºé«”ï¼ˆå¦‚ç”²ç‹€è…ºã€æ€§è…ºç­‰ï¼‰ã€‚å› æ­¤ï¼Œè…¦å‚è…ºå¸¸è¢«ç¨±ç‚ºäººé«”å…§åˆ†æ³Œç³»çµ±çš„<span class="keyword">ç¸½æŒ‡æ®</span>ã€‚</p>
    </div>

    <div class="image-container">
        <img src="3_1.png" alt="è…¦å‚è…ºç¤ºæ„åœ–" class="main-image">
        <div class="side-images">
            <div class="side-image-item">
                <img src="3_2.png" alt="ç½¹æ‚£ä¾å„’ç—‡çš„æ¼”å“¡">
                <p class="image-caption">åƒèˆ‡ã€Šç¶ é‡ä»™è¹¤ã€‹é›»å½±æ¼”å‡ºçš„ä¾å„’ç—‡æ¼”å“¡å€‘ï¼ˆåœ–ä¸­æ‹¿çç‰Œè€…ï¼‰ã€‚</p>
            </div>
            <div class="side-image-item">
                <img src="3_3.png" alt="ç½¹æ‚£å·¨äººç—‡çš„äºº">
                <p class="image-caption">ç½¹æ‚£å·¨äººç—‡çš„ç§‘æ£®ï¼Œæœ‰251å…¬åˆ†é«˜ã€‚</p>
            </div>
        </div>
    </div>
    
    <div id="zone-table" class="review-block">
        <h3>ğŸ“Š é‡é»æ•´ç†ï¼šç”Ÿé•·ç•°å¸¸æ¯”è¼ƒè¡¨</h3>
        <p>è«‹æ ¹æ“šå‰›æ‰çš„èª²æ–‡èˆ‡åœ–ç‰‡ï¼Œé¸æ“‡æ­£ç¢ºçš„é¸é …å¡«å…¥è¡¨æ ¼ä¸­ï¼Œå®Œæˆã€Œå·¨äººç—‡ã€èˆ‡ã€Œä¾å„’ç—‡ã€çš„æ¯”è¼ƒã€‚</p>
        
        <table class="comparison-table">
            <thead>
                <tr>
                    <th style="width: 25%;">ç—…ç—‡åç¨±</th>
                    <th style="width: 35%;">åŸå›  (æˆé•·éšæ®µ)</th>
                    <th>ç‰¹å¾µ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <select id="t1-1" class="table-select" data-ans="å·¨äººç—‡">
                            <option value="">--è«‹é¸æ“‡--</option>
                            <option value="å·¨äººç—‡">å·¨äººç—‡</option>
                            <option value="ä¾å„’ç—‡">ä¾å„’ç—‡</option>
                            <option value="å¤§è„–å­ç—…">å¤§è„–å­ç—…</option>
                        </select>
                    </td>
                    <td>
                        ç”Ÿé•·æ¿€ç´ åˆ†æ³Œ
                        <select id="t1-2" class="table-select" data-ans="éå¤š">
                            <option value="">--è«‹é¸æ“‡--</option>
                            <option value="éå¤š">éå¤š</option>
                            <option value="éå°‘">éå°‘</option>
                            <option value="ä¸ç©©å®š">ä¸ç©©å®š</option>
                        </select>
                    </td>
                    <td style="text-align: left;">éª¨éª¼éåº¦ç”Ÿé•·ï¼Œé«”å‹ç•°å¸¸é«˜å¤§</td>
                </tr>
                <tr>
                    <td>
                        <select id="t1-3" class="table-select" data-ans="ä¾å„’ç—‡">
                            <option value="">--è«‹é¸æ“‡--</option>
                            <option value="å·¨äººç—‡">å·¨äººç—‡</option>
                            <option value="ä¾å„’ç—‡">ä¾å„’ç—‡</option>
                            <option value="ç³–å°¿ç—…">ç³–å°¿ç—…</option>
                        </select>
                    </td>
                    <td>
                        ç”Ÿé•·æ¿€ç´ åˆ†æ³Œ
                        <select id="t1-4" class="table-select" data-ans="éå°‘">
                            <option value="">--è«‹é¸æ“‡--</option>
                            <option value="éå¤š">éå¤š</option>
                            <option value="éå°‘">éå°‘</option>
                            <option value="åœæ­¢">åœæ­¢</option>
                        </select>
                    </td>
                    <td style="text-align: left;">éª¨éª¼ç”Ÿé•·é²ç·©ï¼Œèº«ææ˜é¡¯çŸ®å°ï¼Œæ™ºåŠ›é€šå¸¸æ­£å¸¸</td>
                </tr>
            </tbody>
        </table>

        <button class="btn btn-check" onclick="checkTableAnswer()">æª¢æŸ¥ç­”æ¡ˆ</button>
        <button class="btn btn-retry" onclick="retryTableAnswer()">é‡åšæœ¬é¡Œ</button>
        <div id="feedback-table" class="feedback"></div>
    </div>
    
    <h2 class="quiz-section-title">ğŸ“ éš¨å ‚è©•é‡</h2>

    <div id="zone-q1" class="question-block">
        <h3>(ç·´ç¿’ä¸€) è§€å¿µæ¨è«–ï¼šç¸½æŒ‡æ®çš„è·è²¬</h3>
        <p class="question-title">è…¦å‚è…ºè¢«ç¨±ç‚ºå…§åˆ†æ³Œç³»çµ±çš„ã€Œç¸½æŒ‡æ®ã€ï¼Œé€™æ„å‘³è‘—å¦‚æœå°‡è…¦å‚è…ºæ‘˜é™¤ï¼Œä¸‹åˆ—å“ªç¨®ç”Ÿç†ç¾è±¡æœ€å¯èƒ½ç™¼ç”Ÿï¼Ÿ</p>
        <label class="option-label"><input type="radio" name="q1-option" value="A"> åªæœ‰ç”Ÿé•·æœƒåœæ­¢ï¼Œå…¶ä»–å…§åˆ†æ³ŒåŠŸèƒ½ä¸å—å½±éŸ¿ã€‚</label>
        <label class="option-label"><input type="radio" name="q1-option" value="B"> ç”²ç‹€è…ºèˆ‡æ€§è…ºç­‰è…ºé«”çš„åŠŸèƒ½ä¹Ÿæœƒéš¨ä¹‹è¡°é€€ã€‚</label>
        <label class="option-label"><input type="radio" name="q1-option" value="C"> èº«é«”æœƒç«‹å³å¤§é‡åˆ†æ³Œç”Ÿé•·æ¿€ç´ ä¾†è£œå„Ÿã€‚</label>
        <label class="option-label"><input type="radio" name="q1-option" value="D"> è¡€ç³–æœƒç«‹åˆ»å¤±æ§ï¼Œå› ç‚ºèƒ°å³¶ç´ ç”±è…¦å‚è…ºç›´æ¥åˆ†æ³Œã€‚</label>
        
        <button class="btn btn-check" onclick="checkSingleChoice('zone-q1', 'B', 'q1-option')">æª¢æŸ¥ç­”æ¡ˆ</button>
        <button class="btn btn-retry" onclick="retryQuestion('zone-q1')">é‡åšæœ¬é¡Œ</button>
        <div id="feedback-q1" class="feedback"></div>
    </div>
    
    <div id="zone-q2" class="question-block">
        <h3>(ç·´ç¿’äºŒ) åœ–è¡¨åˆ†æï¼šç”Ÿé•·æ¿€ç´ çš„ç§˜å¯†</h3>
        <p class="question-title">ç§‘å­¸å®¶åˆ†æè¡€æ¶²ä¸­ç”Ÿé•·æ¿€ç´ çš„æ¿ƒåº¦è®ŠåŒ–ï¼Œç™¼ç¾å®ƒå‘ˆç¾ã€Œè„ˆè¡å¼åˆ†æ³Œã€ï¼Œä¸”åœ¨<strong>å¤œé–“æ·±åº¦ç¡çœ æœŸé–“</strong>æ¿ƒåº¦æœ€é«˜ã€‚æ ¹æ“šé€™é …æ•¸æ“šï¼Œå°æ–¼ä¸€ä½æƒ³é•·é«˜çš„åœ‹ä¸­ç”Ÿï¼Œä¸‹åˆ—å“ªé …å»ºè­°æœ€ç¬¦åˆç§‘å­¸ä¾æ“šï¼Ÿ</p>
        <label class="option-label"><input type="radio" name="q2-option" value="A"> æ¯å¤©å¿…é ˆç¡æ»¿ 12 å°æ™‚ï¼Œä¸ç®¡å¹¾é»ç¡éƒ½å¯ä»¥ã€‚</label>
        <label class="option-label"><input type="radio" name="q2-option" value="B"> åªè¦è£œå……é«˜éˆ£é£Ÿç‰©ï¼Œç†¬å¤œå”¸æ›¸ä¸¦ä¸æœƒå½±éŸ¿é•·é«˜ã€‚</label>
        <label class="option-label"><input type="radio" name="q2-option" value="C"> æ‡‰ç›¡é‡åœ¨æ™šä¸Š 10~11 é»å‰å…¥ç¡ï¼Œä»¥æŠŠæ¡ç”Ÿé•·æ¿€ç´ åˆ†æ³Œçš„é«˜å³°æœŸã€‚</label>
        <label class="option-label"><input type="radio" name="q2-option" value="D"> æ—©ä¸Šèµ·åºŠå¾Œç«‹å³åŠ‡çƒˆé‹å‹•ï¼Œå¯ä»¥åˆºæ¿€ç”Ÿé•·æ¿€ç´ åœ¨ç™½å¤©é”åˆ°æœ€é«˜å³°ã€‚</label>

        <button class="btn btn-check" onclick="checkSingleChoice('zone-q2', 'C', 'q2-option')">æª¢æŸ¥ç­”æ¡ˆ</button>
        <button class="btn btn-retry" onclick="retryQuestion('zone-q2')">é‡åšæœ¬é¡Œ</button>
        <div id="feedback-q2" class="feedback"></div>
    </div>

    <div id="zone-q3" class="question-block">
        <h3>(ç·´ç¿’ä¸‰) å¤šé‡é¸æ“‡ï¼šæ§åˆ¶ç¯„åœ</h3>
        <p class="question-title">è…¦å‚è…ºåˆ†æ³Œçš„ã€Œä¿ƒé€²æ¿€ç´ ã€å¯ä»¥ç›´æ¥èª¿æ§ä¸‹åˆ—å“ªäº›å…§åˆ†æ³Œè…ºé«”çš„åŠŸèƒ½ï¼Ÿï¼ˆè«‹é¸å‡ºæ‰€æœ‰æ­£ç¢ºç­”æ¡ˆï¼Œå…¨å°æ‰çµ¦åˆ†ï¼‰</p>
        <label class="option-label"><input type="checkbox" name="q3-option" value="ç”²ç‹€è…º"> ç”²ç‹€è…º</label>
        <label class="option-label"><input type="checkbox" name="q3-option" value="èƒ°å³¶"> èƒ°å³¶ï¼ˆåˆ†æ³Œèƒ°å³¶ç´ ï¼‰</label>
        <label class="option-label"><input type="checkbox" name="q3-option" value="æ€§è…º"> æ€§è…ºï¼ˆåµå·¢/çªä¸¸ï¼‰</label>
        <label class="option-label"><input type="checkbox" name="q3-option" value="è…ä¸Šè…º"> è…ä¸Šè…º</label>
        <p style="font-size: 0.9em; color: #666;">ï¼ˆæç¤ºï¼šèƒ°å³¶ä¸»è¦å—è¡€ç³–æ¿ƒåº¦ç›´æ¥æ§åˆ¶ï¼‰</p>

        <button class="btn btn-check" onclick="checkMultiSelect('zone-q3', ['ç”²ç‹€è…º', 'æ€§è…º', 'è…ä¸Šè…º'], 'q3-option')">æª¢æŸ¥ç­”æ¡ˆ</button>
        <button class="btn btn-retry" onclick="retryQuestion('zone-q3')">é‡åšæœ¬é¡Œ</button>
        <div id="feedback-q3" class="feedback"></div>
    </div>
    
    <div class="navigation">
        <a href="2.html" class="nav-btn nav-btn-prev">â† ä¸Šä¸€é </a>
        <a href="./4.html" id="next-page" class="nav-btn disabled">ä¸‹ä¸€é  â†’</a>
    </div>

</div>

<script>
    // ç‹€æ…‹è¿½è¹¤ï¼š4 å€‹éƒ¨åˆ† (Table + ç·´ç¿’1 + ç·´ç¿’2 + ç·´ç¿’3)
    const qStatus = {
        'table': false,
        'q1': false,
        'q2': false,
        'q3': false
    };

    /* --- 1. è¡¨æ ¼æª¢æŸ¥é‚è¼¯ --- */
    function checkTableAnswer() {
        const containerId = 'zone-table';
        const container = document.getElementById(containerId);
        const feedback = document.getElementById('feedback-table');
        const checkBtn = container.querySelector('.btn-check');
        const retryBtn = container.querySelector('.btn-retry');

        // å–å¾—å››å€‹ä¸‹æ‹‰é¸å–®
        const inputs = [
            document.getElementById('t1-1'),
            document.getElementById('t1-2'),
            document.getElementById('t1-3'),
            document.getElementById('t1-4')
        ];

        // æª¢æŸ¥æ˜¯å¦çš†å·²é¸æ“‡
        if (inputs.some(el => el.value === "")) {
            alert("è«‹å®Œæˆè¡¨æ ¼ä¸­æ‰€æœ‰çš„é¸é …ï¼");
            return;
        }

        // æ ¸å°ç­”æ¡ˆ
        let allCorrect = true;
        inputs.forEach(el => {
            el.disabled = true; // é–å®š
            if (el.value !== el.getAttribute('data-ans')) {
                allCorrect = false;
                el.style.backgroundColor = '#f8d7da'; // éŒ¯èª¤æ¨™ç´…
            } else {
                el.style.backgroundColor = '#d4edda'; // æ­£ç¢ºæ¨™ç¶ 
            }
        });

        checkBtn.disabled = true;
        feedback.style.display = 'block';

        if (allCorrect) {
            qStatus['table'] = true;
            feedback.className = 'feedback correct';
            feedback.innerHTML = 'âœ… **å®Œå…¨æ­£ç¢ºï¼** æ‚¨å·²æ¸…æ¥šæŒæ¡ç”Ÿé•·ç•°å¸¸çš„ç‰¹å¾µèˆ‡åŸå› ã€‚';
            retryBtn.style.display = 'none';
        } else {
            qStatus['table'] = false;
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = 'âŒ **éƒ¨åˆ†æœ‰èª¤**ã€‚è«‹é‡æ–°æª¢æŸ¥ç—…åèˆ‡åˆ†æ³Œé‡ï¼ˆéå¤š/éå°‘ï¼‰çš„å°æ‡‰é—œä¿‚ã€‚';
            retryBtn.style.display = 'inline-block';
        }
        updateNextButton();
    }

    function retryTableAnswer() {
        const containerId = 'zone-table';
        const container = document.getElementById(containerId);
        const inputs = container.querySelectorAll('select');
        
        inputs.forEach(el => {
            el.disabled = false;
            el.value = "";
            el.style.backgroundColor = '';
        });

        resetUI(containerId, 'feedback-table');
        qStatus['table'] = false;
        updateNextButton();
    }

    /* --- 2. å–®é¸é¡Œæª¢æŸ¥é‚è¼¯ (ç·´ç¿’ä¸€, ç·´ç¿’äºŒ) --- */
    function checkSingleChoice(containerId, correctVal, inputName) {
        const container = document.getElementById(containerId);
        // feedback id è¦å‰‡: feedback-q1, feedback-q2
        const feedbackId = containerId.replace('zone-', 'feedback-'); 
        const feedback = document.getElementById(feedbackId);
        const checkBtn = container.querySelector('.btn-check');
        const retryBtn = container.querySelector('.btn-retry');
        const inputs = container.querySelectorAll(`input[name="${inputName}"]`);
        
        const selected = container.querySelector(`input[name="${inputName}"]:checked`);
        const statusKey = containerId.replace('zone-', ''); // q1, q2

        if (!selected) {
            alert("è«‹é¸æ“‡ä¸€å€‹ç­”æ¡ˆï¼");
            return;
        }

        // é–å®š
        inputs.forEach(el => el.disabled = true);
        checkBtn.disabled = true;
        feedback.style.display = 'block';

        if (selected.value === correctVal) {
            qStatus[statusKey] = true;
            feedback.className = 'feedback correct';
            
            let msg = "âœ… **ç­”å°äº†ï¼**";
            if (statusKey === 'q1') msg += " è…¦å‚è…ºæ§åˆ¶ç”²ç‹€è…ºã€æ€§è…ºèˆ‡è…ä¸Šè…ºçš®è³ªï¼Œè‹¥è¢«æ‘˜é™¤ï¼Œé€™äº›è…ºé«”ä¹Ÿæœƒéš¨ä¹‹è¡°é€€ã€‚";
            if (statusKey === 'q2') msg += " æ²’éŒ¯ï¼æŠŠæ¡å¤œé–“æ·±åº¦ç¡çœ æœŸï¼ˆç´„ 11 é»è‡³ 2 é»ï¼‰æ˜¯é•·é«˜çš„é—œéµã€‚";
            
            feedback.innerHTML = msg;
            retryBtn.style.display = 'none';
        } else {
            qStatus[statusKey] = false;
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = "âŒ **ç­”æ¡ˆä¸æ­£ç¢º**ã€‚è«‹å†ä»”ç´°æ€è€ƒé¡Œç›®æ•˜è¿°èˆ‡é¸é …ã€‚";
            retryBtn.style.display = 'inline-block';
        }
        updateNextButton();
    }

    /* --- 3. å¤šé¸é¡Œæª¢æŸ¥é‚è¼¯ (ç·´ç¿’ä¸‰) --- */
    function checkMultiSelect(containerId, correctArray, inputName) {
        const container = document.getElementById(containerId);
        const feedbackId = containerId.replace('zone-', 'feedback-');
        const feedback = document.getElementById(feedbackId);
        const inputs = container.querySelectorAll(`input[name="${inputName}"]`);
        const checkBtn = container.querySelector('.btn-check');
        const retryBtn = container.querySelector('.btn-retry');
        const statusKey = containerId.replace('zone-', ''); // q3

        const checked = Array.from(inputs).filter(el => el.checked).map(el => el.value);

        if (checked.length === 0) {
            alert("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹é¸é …ï¼");
            return;
        }

        // é–å®š
        inputs.forEach(el => el.disabled = true);
        checkBtn.disabled = true;
        feedback.style.display = 'block';

        // åˆ¤æ–·é™£åˆ—å…§å®¹æ˜¯å¦å®Œå…¨ä¸€è‡´ï¼ˆå¿½ç•¥é †åºï¼‰
        const isCorrect = checked.length === correctArray.length && 
                          checked.every(val => correctArray.includes(val));

        if (isCorrect) {
            qStatus[statusKey] = true;
            feedback.className = 'feedback correct';
            feedback.innerHTML = "âœ… **å…¨å°ï¼** è…¦å‚è…ºåˆ†æ³Œæ¿€ç´ æ§åˆ¶ç”²ç‹€è…ºã€æ€§è…ºå’Œè…ä¸Šè…ºï¼ˆçš®è³ªï¼‰ã€‚";
            retryBtn.style.display = 'none';
        } else {
            qStatus[statusKey] = false;
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = "âŒ **æœ‰èª¤**ã€‚æç¤ºï¼šèƒ°å³¶ä¸»è¦å—è¡€ç³–èª¿æ§ï¼Œä¸ç”±è…¦å‚è…ºç›´æ¥å‘½ä»¤ã€‚";
            retryBtn.style.display = 'inline-block';
        }
        updateNextButton();
    }

    /* --- é€šç”¨ï¼šé‡åšèˆ‡è§£é– --- */
    function retryQuestion(containerId) {
        const container = document.getElementById(containerId);
        const inputs = container.querySelectorAll('input');
        const feedbackId = containerId.replace('zone-', 'feedback-');
        const statusKey = containerId.replace('zone-', '');

        inputs.forEach(el => {
            el.disabled = false;
            el.checked = false;
        });

        resetUI(containerId, feedbackId);
        qStatus[statusKey] = false;
        updateNextButton();
    }

    function resetUI(containerId, feedbackId) {
        const container = document.getElementById(containerId);
        const feedback = document.getElementById(feedbackId);
        const checkBtn = container.querySelector('.btn-check');
        const retryBtn = container.querySelector('.btn-retry');

        feedback.style.display = 'none';
        feedback.className = 'feedback';
        checkBtn.disabled = false;
        retryBtn.style.display = 'none';
    }

    function updateNextButton() {
        const nextBtn = document.getElementById('next-page');
        const allDone = Object.values(qStatus).every(val => val === true);

        if (allDone) {
            nextBtn.classList.remove('disabled');
            nextBtn.style.backgroundColor = '#28a745';
            nextBtn.setAttribute('href', './4.html');
        } else {
            nextBtn.classList.add('disabled');
            nextBtn.style.backgroundColor = '';
            nextBtn.removeAttribute('href');
        }
    }

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', updateNextButton);

</script>

</body>
</html>